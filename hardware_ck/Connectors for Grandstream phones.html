<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0090)http://reverse.0cpm.org/grandstream/connect.html#bt200-j402-and-gxp1200-j402-i2c-connector -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" class="gr__reverse_0cpm_org"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta name="generator" content="Docutils 0.4: http://docutils.sourceforge.net/">
<title>Connectors for Grandstream phones</title>
<style type="text/css">

/*
:Author: David Goodger
:Contact: goodger@users.sourceforge.net
:Date: $Date$
:Revision: $Revision$
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin-left: 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em ;
  background-color: #eeeeee }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

tt.docutils {
  background-color: #eeeeee }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css"></style></head>
<body data-gr-c-s-loaded="true">
<div class="document" id="connectors-for-grandstream-phones">
<h1 class="title">Connectors for Grandstream phones</h1>
<p>Below are connectors named PCB/JUMPER: DESCR.  The connectors are
collected here, in a central file, because they are likely to be
shared among PCB variants.</p>
<div class="contents topic">
<p class="topic-title first"><a id="contents" name="contents">Contents</a></p>
<ul class="simple">
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#jtag-connectors" id="id1" name="id1">JTAG connectors</a><ul>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#ht486-jtag-serial-connector" id="id2" name="id2">HT486: JTAG + serial connector</a></li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#bt102-jp1-jtag-serial-connector" id="id3" name="id3">BT102/JP1: JTAG + serial connector</a></li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#bt200-j401-and-gxp2020-j401-and-gxp1200-j401-jtag-connector" id="id4" name="id4">BT200/J401 and GXP2020/J401 and GXP1200/J401: JTAG connector</a></li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#bt200-j402-and-gxp1200-j402-i2c-connector" id="id5" name="id5">BT200/J402 and GXP1200/J402: I2C connector</a></li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#gxp2020-ext-i2c-connector" id="id6" name="id6">GXP2020/EXT: I2C Connector</a></li>
</ul>
</li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#peripheral-connectors" id="id7" name="id7">Peripheral connectors</a><ul>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#bt102-jp2-and-bt200-j403-peripheral-connector" id="id8" name="id8">BT102/JP2 and BT200/J403: Peripheral connector</a></li>
</ul>
</li>
</ul>
</div>
<div class="section">
<h1><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id1" id="jtag-connectors" name="jtag-connectors">JTAG connectors</a></h1>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id2" id="ht486-jtag-serial-connector" name="ht486-jtag-serial-connector"><span id="ht486jp1"></span>HT486: JTAG + serial connector</a></h2>
<p>Note that this connector is not named on the PCB of the HT-486.
This is almost certainly the same as the JP1 connector in BT102 phones.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id3" id="bt102-jp1-jtag-serial-connector" name="bt102-jp1-jtag-serial-connector"><span id="bt102jp1"></span>BT102/JP1: JTAG + serial connector</a></h2>
<p>This 20-pin connector is probably shared among multiple GrandStream boards.
It was found in:</p>
<ul class="simple">
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-bt102.html">BudgeTone 101, 102</a> as JP1</li>
</ul>
<p>The JP1 connector operates at 3V3 voltage level and is wired as follows:</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody valign="top">
<tr><td>1=SRST via 200 ohm</td>
<td>2=HD5 (huh?)</td>
</tr>
<tr><td>3=TMS</td>
<td>4=_TRST</td>
</tr>
<tr><td>5=TDI</td>
<td>6=GND</td>
</tr>
<tr><td>7=EMU1/_OFF</td>
<td>8=TCK</td>
</tr>
<tr><td>9=EMU0</td>
<td>10=TDO</td>
</tr>
<tr><td>11=_INT3</td>
<td>12=VTref (3V3)</td>
</tr>
<tr><td>13=BDR1</td>
<td>14=BCLKX1</td>
</tr>
<tr><td>15=BDX1</td>
<td>16=BFSX1</td>
</tr>
</tbody>
</table>
</blockquote>
<p>This connector implements JTAG as well as <a class="reference" href="http://reverse.0cpm.org/grandstream/upload.html#bootloader">bootloading</a> from an SPI <a class="reference" href="http://reverse.0cpm.org/grandstream/upload.html#EEPROM">EEPROM</a>
or over a <a class="reference" href="http://reverse.0cpm.org/grandstream/upload.html#BSP1">serial port</a>.
Active _INT3 after _RS reset serves to select the EEPROM bootmode.</p>
<p>The _INT3 signal boots the devices over an EEPROM after active _RS reset.</p>
<p>The JTAG specifications for the TMS320VC5402 are published by
Texas Instruments in <a class="reference" href="http://reverse.0cpm.org/grandstream/datasheet/vc5402_pge_bsdl_model.zip">BSDL</a>.</p>
<p>JTAG is supported in <a class="reference" href="http://www.urjtag.org/">UrJTAG</a> and its included utility
<tt class="docutils literal"><span class="pre">bsdl2jtag</span></tt> can transform the specification to its the
format for UrJTAG:</p>
<pre class="literal-block">unzip vc5402_pge_bsdl_model.zip
bsdl2jtag sprm062.brm tms320vc5402.jtag
#TODO# Failure importing TI_BIDIR
</pre>
<p>This procedure failed on parser problems in bsdl2jtag; look for
<a class="reference" href="http://sourceforge.net/projects/urjtag/forums/forum/682993/topic/3833078">my report</a> in the UrJTAG forum for description and work-around
if this happens to you as well.</p>
<p>Note that TI also publishes interesting documents
about a built-in <a class="reference" href="http://reverse.0cpm.org/grandstream/datasheet/slau319.pdf">bootloader</a> including <a class="reference" href="http://reverse.0cpm.org/grandstream/datasheet/slau319.zip">code</a>.  The
bootloader is present in the ROM of all default-supplied
DSP processors, and it supports alternate ways of passing
in the code to run after reset.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id4" id="bt200-j401-and-gxp2020-j401-and-gxp1200-j401-jtag-connector" name="bt200-j401-and-gxp2020-j401-and-gxp1200-j401-jtag-connector"><span id="gxp1200j401"></span><span id="gxp2020j401"></span><span id="bt200j401"></span>BT200/J401 and GXP2020/J401 and GXP1200/J401: JTAG connector</a></h2>
<p>This 14-pin connector is a generic connector
defined by TI for their <tt class="docutils literal"><span class="pre">tic55x</span></tt> family, or
more formally, chips whose numbers look like
<tt class="docutils literal"><span class="pre">TMS320..55..</span></tt> -- this connector was found in:</p>
<ul class="simple">
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-bt200.html">BudgeTone 200, 201</a> as J401</li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-gxp2020.html">GXP 2020</a> as J401</li>
</ul>
<p>This connector is probably
present on all recent boards (that is, the
boads of not end-of-life products).</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody valign="top">
<tr><td>1=TMS</td>
<td>2=_TRST</td>
</tr>
<tr><td>3=TDI</td>
<td>4=TDIS or GND</td>
</tr>
<tr><td>5=VTref</td>
<td>6=NC or lock</td>
</tr>
<tr><td>7=TDO</td>
<td>8=GND</td>
</tr>
<tr><td>9=RTCK</td>
<td>10=GND</td>
</tr>
<tr><td>11=TCK</td>
<td>12=GND</td>
</tr>
<tr><td>13=_EMU0</td>
<td>14=_EMU1</td>
</tr>
</tbody>
</table>
</blockquote>
</div>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id5" id="bt200-j402-and-gxp1200-j402-i2c-connector" name="bt200-j402-and-gxp1200-j402-i2c-connector"><span id="gxp1200j402"></span><span id="bt200j402"></span>BT200/J402 and GXP1200/J402: I2C connector</a></h2>
<p>This connector delivers I2C connectivity, as well
as a few GPIO ports that may well be in use for the
firmware's bootloader code.  I found this connector
in</p>
<ul class="simple">
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-bt200.html">BudgeTone 200, 201</a> as J402</li>
</ul>
<p>I haven't seen this connector on the GXP2020 that I
uncovered, so it would seem that the connector went
out of fashion in more recent models.</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="100%">
</colgroup>
<tbody valign="top">
<tr><td>1=VTref or 3V3</td>
</tr>
<tr><td>2=SDA</td>
</tr>
<tr><td>3=SCL</td>
</tr>
<tr><td>4=BOOTM[0]</td>
</tr>
<tr><td>5=BOOTM[2]</td>
</tr>
<tr><td>6=GND</td>
</tr>
</tbody>
</table>
</blockquote>
<p><strong>Note:</strong> pins are spaced 2 mm apart, not the usual 0.1 inch.</p>
<p>The device normally boots with BOOTM[2:0] set to 010 or 011;
although the stable state after boot is 010, it is likely to be
temporarily pulled to 011 during system reset, as that would setup
for boot from external asynchronous 16-bit memory.  The memory is
then expected in CE1 space (where Flash resides, of course) and
the boot table is expected at address 0x0200000 in CE1 space and
must be produced with hex55's -parallel16 option.</p>
<p>When booting over I2C is preferred, up to 8 serial EEPROMs can be
connected as a consecutive address range.  To activate this boot
mode, BOOTM[2:0] must be set to 110, so pin 5 of J402 must be
pulled high and pin 4 must be pulled low.  Reading of the boot
table starts at address 0x0050.  After slave with ID bits 000
and of size 64 kB has been downloaded, the slave ID bits are
incremented to reach the next EEPROM.  Downloads are a byte
at a time, not 16 bits as with other booting methods, so use
the <tt class="docutils literal"><span class="pre">-serial8</span></tt> option to let hex55 compose the right boot
table.</p>
</div>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id6" id="gxp2020-ext-i2c-connector" name="gxp2020-ext-i2c-connector">GXP2020/EXT: I2C Connector</a></h2>
<p>The EXT connector is available on the outside of the GXP2020,
and probably matches the one on GXP1200.  The GXP2000 and
GXP2120 use a mini-DIN plug, but the signals are probably
the same.  The intention of this connector is to link to
addition "button units".  These units work over I2C, which
makes a lot of sense to me.</p>
<p>But this connector can do more; it is actually the same as the
<a class="reference" href="http://reverse.0cpm.org/grandstream/connect.html#bt200-j402-and-gxp1200-j402-i2c-connector">BT200/J402 and GXP1200/J402: I2C connector</a> as it includes the BOOTM[2:0] pins
that can make the DSP chip boot from I2C; to this end, pull
BOOTM[2] high and BOOTM[0] low.</p>
<p>The RJ45 connector, read from left to right on the outside of
the phone, carries the following signals:</p>
<ol class="arabic simple">
<li>BOOTM[2]</li>
<li>N/C?</li>
<li>SCL</li>
<li>3V3</li>
<li>N/C?</li>
<li>GND</li>
<li>BOOTM[0]</li>
<li>SDA</li>
</ol>
</div>
</div>
<div class="section">
<h1><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id7" id="peripheral-connectors" name="peripheral-connectors">Peripheral connectors</a></h1>
<div class="section">
<h2><a class="toc-backref" href="http://reverse.0cpm.org/grandstream/connect.html#id8" id="bt102-jp2-and-bt200-j403-peripheral-connector" name="bt102-jp2-and-bt200-j403-peripheral-connector"><span id="bt200j403"></span><span id="bt102jp2"></span>BT102/JP2 and BT200/J403: Peripheral connector</a></h2>
<p>This connector is found in</p>
<ul class="simple">
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-bt102.html">BudgeTone 101, 102</a> as JP2</li>
<li><a class="reference" href="http://reverse.0cpm.org/grandstream/pcb-bt200.html">BudgeTone 200, 201</a> as J403</li>
</ul>
<p>The connector is wired as follows:</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="50%">
<col width="50%">
</colgroup>
<tbody valign="top">
<tr><td>1=SPK1 (+)</td>
<td>2=SPK2 (-)</td>
</tr>
<tr><td>3=Vdd</td>
<td>4=GND</td>
</tr>
<tr><td>5=DATA</td>
<td>6=WR</td>
</tr>
<tr><td>7=LIGHT</td>
<td>8=RD</td>
</tr>
<tr><td>9=D0</td>
<td>10=CS</td>
</tr>
<tr><td>11=D2</td>
<td>12=D1</td>
</tr>
<tr><td>13=D4</td>
<td>14=D3</td>
</tr>
<tr><td>15=C1</td>
<td>16=C0</td>
</tr>
<tr><td>17=C3</td>
<td>18=C2</td>
</tr>
<tr><td>19=LED (MESSAGE)</td>
<td>20=C4</td>
</tr>
</tbody>
</table>
</blockquote>
<p>These connectors are wired to the following peripherals:</p>
<ul class="simple">
<li>SPK1, SPK2 go directly to the speaker</li>
<li>LED and Vdd steer the MESSAGE LED</li>
<li>D0..D4 and C0..C4 form the keyboard matrix</li>
<li>LIGHT feeds the backlight for the LCD (other side?)</li>
<li>Vdd, GND, DATA, WR, RD are used (I think) for the LCD</li>
</ul>
<p>More information on GPIO can be found on <a class="reference" href="http://reverse.0cpm.org/grandstream/gpio-bt200.html">the GPIO page for BT200</a>.</p>
</div>
</div>
</div>


</body></html>